<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="rgb(252, 240, 248)" id="theme-color-meta">
    <title>Braided - Word Game</title>
    <style>
        /* ============================================
           BASE STYLES & RESET
           ============================================ */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            touch-action: manipulation;
        }

        /* ============================================
           HTML & BODY
           ============================================ */

        html {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: fixed;
            overscroll-behavior: none;
            -webkit-overflow-scrolling: touch;
            margin: 0;
            padding: 0;
            background: rgb(252, 240, 248);
        }

        body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: fixed;
            overscroll-behavior: none;
            -webkit-overflow-scrolling: touch;
            margin: 0;
            padding: 0;
            font-family: 'Bradley Hand', cursive, sans-serif;
            background: rgb(252, 240, 248);
            min-height: 100vh;
            min-height: -webkit-fill-available;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ============================================
           HOME SCREEN
           ============================================ */

        .home-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 60px;
            padding: 40px 20px;
            max-width: 500px;
            width: 100%;
        }

        .logo-container {
            width: 100%;
            max-width: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 100%;
            height: auto;
            max-width: 400px;
        }

        .tagline {
            font-size: 18px;
            color: black;
            font-weight: normal;
            text-align: center;
        }

        .buttons-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            max-width: 350px;
            align-items: center;
        }

        .home-button {
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            font-family: inherit;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 0 rgba(0, 0, 0, 1);
            display: block;
            font-weight: bold;
            text-decoration: none;
            text-align: center;
            white-space: nowrap;
        }

        .home-button:active {
            transform: translateY(3px);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 1);
        }

        .home-button.daily {
            background: rgb(209, 89, 161);
            color: black;
            width: 150px;
        }

        .home-button.download {
            background: rgb(64, 180, 217);
            color: black;
            width: 280px;
        }

        /* ============================================
           DARK MODE
           ============================================ */

        @media (prefers-color-scheme: dark) {
            html {
                background: rgb(48, 24, 40) !important;
            }
            
            body {
                background: rgb(48, 24, 40);
                color: black;
            }

            .tagline {
                color: black;
            }
        }
    </style>
</head>
<body>
    <div class="home-container">
        <div class="logo-container">
            <img src="logo.png" alt="Braided Logo" class="logo">
            <div class="tagline">A Woven Word Puzzle</div>
        </div>
        
        <div class="buttons-container">
            <button class="home-button daily" onclick="playDaily()">DAILY</button>
            <a 
                href="https://apps.apple.com/us/app/braided/id6755253476" 
                class="home-button download" 
                target="_blank"
                onclick="trackDownload()">
            DOWNLOAD APP
            </a>
        </div>
    </div>
    <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
    import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyDByYT60DvpfN87Qip7PiR5hjI0PL94DCc",
        authDomain: "braided-15887.firebaseapp.com",
        projectId: "braided-15887",
        storageBucket: "braided-15887.firebasestorage.app",
        messagingSenderId: "736548935243",
        appId: "1:736548935243:web:1afa3d83c42a543fccdfce",
        measurementId: "G-DE5LDTRQ4N"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    window.analytics = analytics;
    window.logEvent = logEvent;
    </script>
    <script>
        function updateThemeColor() {
            const meta = document.getElementById('theme-color-meta');
            const htmlElement = document.documentElement;
            const bodyElement = document.body;
            const isDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (meta) meta.content = 'rgb(96, 48, 80)';
            htmlElement.style.setProperty('background', 'rgb(96, 48, 80)', 'important');
            bodyElement.style.setProperty('background', 'rgb(96, 48, 80)', 'important');
        }

        function playDaily() {
            logEvent(analytics, "daily_pressed_web", {});
            // Navigate to the game page
            window.location.href = 'word-game.html';
        }

        function trackDownload() {
            logEvent(analytics, "download_app_pressed_web", {});
        }

        // Update theme color on load
        updateThemeColor();

        // Listen for theme changes
        const darkModeQuery = window.matchMedia('(prefers-color-scheme: dark)');
        if (darkModeQuery.addEventListener) {
            darkModeQuery.addEventListener('change', updateThemeColor);
        } else {
            darkModeQuery.addListener(updateThemeColor);
        }
    </script>
</body>
</html>